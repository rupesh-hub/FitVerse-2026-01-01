global:
  host: "192.168.1.70"
  environment: production
  labels:
    environment: production
    managed-by: helm
    app: fitverse
# Namespace configuration - namespace must exist before helm install
namespace:
  create: false # Set to false - let DevOps pre-create namespace
  name: "fitverse" # Explicit namespace reference
# Database Configuration
mysql:
  replicas: 1
  environment:
    MYSQL_ROOT_PASSWORD: "root" # CRITICAL: Override via external secrets
    MYSQL_DATABASE: "fitverse"
  image:
    repository: mysql
    pullPolicy: IfNotPresent
    tag: "8.0.35"
  service:
    type: ClusterIP
    port: 3306
    targetPort: 3306
    containerPort: 3306
  storage:
    size: 20Gi
    storageClassName: "standard" # Use "fast-ssd" or "ebs" for production
  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
    requests:
      cpu: 500m
      memory: 1Gi
  autoscaling:
    enabled: false
# Backend (Spring Boot API) Configuration
backend:
  replicas: 1
  environment:
    SPRING_DATASOURCE_URL: "jdbc:mysql://fitverse-mysql:3306/fitverse?createDatabaseIfNotExist=true&useSSL=true"
    SPRING_DATASOURCE_USERNAME: "root"
    SPRING_PROFILES_ACTIVE: "production"
    APPLICATION_CORS_ORIGINS: "http://192.168.1.70:4200"
  image:
    repository: rupesh1997/fitverse-backend
    pullPolicy: IfNotPresent
    tag: "1.0.2"
  service:
    type: ClusterIP
    port: 8181
    targetPort: 8181
    containerPort: 8181
  resources:
    limits:
      cpu: 1000m
      memory: 1.5Gi
    requests:
      cpu: 500m
      memory: 768Mi
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 2
    targetCPUUtilizationPercentage: 70
    targetMemoryUtilizationPercentage: 80
# Frontend (Angular) Configuration
frontend:
  replicas: 1
  image:
    repository: rupesh1997/fitverse-frontend
    pullPolicy: IfNotPresent
    tag: "1.0.1"
  service:
    type: ClusterIP
    port: 4200
    targetPort: 8080
    containerPort: 8080
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 2
    targetCPUUtilizationPercentage: 70
# Ingress Configuration
ingress:
  enabled: true
  className: "nginx" # Ensure ingress controller matches your cluster
  host: "fitverse.example.com" # Update to your domain
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "false"
    nginx.ingress.kubernetes.io/force-ssl-redirect: "false"
    nginx.ingress.kubernetes.io/rewrite-target: /
# Security & Encryption
encryption:
  jasyptPassword: "change-this-secure-password" # CRITICAL: Use external secrets
# Image Pull Secret for private registries
imagePullSecret: "{}"
# Resource Quotas per namespace
resourceQuota:
  enabled: true
  requests:
    cpu: "5000m"
    memory: "8Gi"
  limits:
    cpu: "10000m"
    memory: "16Gi"
